<div class="panel panel-default">
  <div class="panel-heading">
    <span>Total Results from this Group: <strong>{{ controllerService.groupsResultCountGet(groupIndex) }}</strong></span>
    <button
        class="group-remove btn btn-danger btn-xs"
        ng-click="remove()">
      <i class="fa fa-times"></i>
    </button>
  </div>
  <div class="panel-body">
    <custom-search-group-condition
        ng-repeat="condition in controllerService.groupsConditionsList(groupIndex)"
        remove="controllerService.groupsConditionsRemove(groupIndex, $index); $update()"
        group-index="groupIndex"
        condition-index="$index"
        controller-service="controllerService"
        on-update="$update()">
    </custom-search-group-condition>

    <div
        class="group-time-period"
        ng-if="controllerService.groupsTimePeriodGet(groupIndex)">
      <div class="form-inline">
        <div class="form-group input-group-sm">
          <label for="timePeriod-{{ uuid }}">Time Period is from</label>
          <select
              id="timePeriod-{{ uuid }}"
              class="form-control"
              ng-model="data.time"
              ng-change="$update()"
              ng-options="timePeriod.value as timePeriod.name for timePeriod in timePeriods">
          </select>
        </div>
      </div>
      <button
          class="group-time-period-remove btn btn-xs btn-danger"
          ng-click="controllerService.groupsTimePeriodRemove(groupIndex); $update()">
        <i class="fa fa-times"></i>
      </button>
    </div>

    <button
        class="btn btn-xs btn-info"
        ng-click="controllerService.groupsConditionsAdd(groupIndex); $update()">
      <i class="fa fa-plus"></i>
      Add a Condition
    </button>
    <button
        class="btn btn-xs btn-info"
        ng-if="!controllerService.groupsTimePeriodGet(groupIndex)"
        ng-click="controllerService.groupsTimePeriodSet(groupIndex); $update()">
      <i class="fa fa-plus"></i>
      Add Time Period
    </button>
  </div>
</div>

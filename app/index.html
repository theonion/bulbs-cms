<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <base href="/">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <!-- build:css styles/vendor.css -->
    <!-- bower:css -->
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css" />
    <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.css" />
    <link rel="stylesheet" href="bower_components/angular-bootstrap-datetimepicker/src/css/datetimepicker.css" />
    <link rel="stylesheet" href="bower_components/pnotify/pnotify.core.css" />
    <link rel="stylesheet" href="bower_components/pnotify/pnotify.buttons.css" />
    <link rel="stylesheet" href="bower_components/pnotify/pnotify.history.css" />
    <!-- endbower -->
    <link rel="stylesheet" href="bower_components/jcrop/css/jquery.Jcrop.min.css" />
    <link rel="stylesheet" href="bower_components/nprogress/nprogress.css" />
    <!-- endbuild -->
    <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css" />
    <!-- build:css({.tmp,app}) styles/main.css -->
    <link rel="stylesheet" href="styles/main.css" />

    <link rel="stylesheet" href="bower_components/onion-editor/build/editor-main.css" />

    <link rel="stylesheet" href="styles/edit-page.css" />
    
    <!-- FEATURE IMAGE STUFF -->
    <link rel="stylesheet" href="styles/feature-image.css" />

    <link rel="stylesheet" href="styles/version-browser.css" />
    <link rel="stylesheet" href="styles/last-modified-preview.css" />
    <!-- endbuild -->

    <!-- don't bundle this -->
    <link rel="stylesheet" href="bower_components/onion-editor/build/inline.css" />


    <script type="text/javascript">
        var BC_ADMIN_URL = 'http://clickholeimg.local';
        var IMAGE_URL = 'http://clickholeimg.local/{{id}}/{{crop}}/{{width}}.{{format}}';
        var IMAGE_LISTENERS_DISABLED = true;
        var DEFAULT_IMAGE_ID = 0;
    </script>

    <script type="text/javascript">
        function jqueryCsrfSetup(){
            return;
        }
    </script>
  </head>
  <body ng-app="bulbsCmsAppDev">
    <!--[if lt IE 7]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <!-- Add your site or application content here -->
    <div ng-view=""></div>

    <div hide-if-forbidden options-url="/returns-a-403/">You can't see this!</div>

    <!--[if lt IE 9]>
    <script src="bower_components/es5-shim/es5-shim.js"></script>
    <script src="bower_components/json3/lib/json3.min.js"></script>
    <![endif]-->
    <!-- build:js scripts/vendor.js -->
    <!-- bower:js -->
    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-resource/angular-resource.js"></script>
    <script src="bower_components/angular-cookies/angular-cookies.js"></script>
    <script src="bower_components/angular-sanitize/angular-sanitize.js"></script>
    <script src="bower_components/angular-route/angular-route.js"></script>
    <script src="bower_components/nprogress/nprogress.js"></script>
    <script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script>
    <script src="bower_components/raven-js/dist/raven.js"></script>
    <script src="bower_components/moment/moment.js"></script>
    <script src="bower_components/underscore/underscore.js"></script>
    <script src="bower_components/urlify/urlify.js"></script>
    <script src="bower_components/angular-bootstrap-datetimepicker/src/js/datetimepicker.js"></script>
    <script src="bower_components/onion-editor/build/onion-editor.js"></script>
    <script src="bower_components/lodash/dist/lodash.compat.js"></script>
    <script src="bower_components/restangular/dist/restangular.js"></script>
    <script src="bower_components/Keypress/keypress.js"></script>
    <script src="bower_components/pnotify/pnotify.core.js"></script>
    <script src="bower_components/pnotify/pnotify.buttons.js"></script>
    <script src="bower_components/pnotify/pnotify.callbacks.js"></script>
    <script src="bower_components/pnotify/pnotify.confirm.js"></script>
    <script src="bower_components/pnotify/pnotify.desktop.js"></script>
    <script src="bower_components/pnotify/pnotify.history.js"></script>
    <script src="bower_components/pnotify/pnotify.nonblock.js"></script>
    <!-- endbower -->
    <script src="bower_components/jcrop/js/jquery.Jcrop.min.js"></script>
    <!-- endbuild -->

    <script src="bower_components/angular-scenario/angular-scenario.js"></script>

    <!-- build:js({.tmp,app}) scripts/scripts.js -->
    <script src="cms-image.js"></script>

    <script src="scripts/libraries/editor-cms-bridge.js"></script>

    <script src="scripts/app.js"></script>

    <script src="scripts/controllers/contentlist.js"></script>
    <script src="scripts/controllers/contentedit.js"></script>
    <script src="scripts/controllers/promotion.js"></script>
    <script src="scripts/controllers/targeting.js"></script>
    <script src="scripts/controllers/contentworkflow.js"></script>
    <script src="scripts/controllers/trashcontentmodal.js"></script>
    <script src="scripts/controllers/pubtimemodal.js"></script>
    <script src="scripts/controllers/imagecropmodal.js"></script>
    <script src="scripts/controllers/loginmodal.js"></script>
    <script src="scripts/controllers/unpublish.js"></script>

    <script src="scripts/directives/activenav.js"></script>
    <script src="scripts/directives/articlecontainer.js"></script>
    <script src="scripts/directives/bulbs-autocomplete.js"></script>
    <script src="scripts/directives/bugreporter.js"></script>
    <script src="scripts/directives/bettyeditable.js"></script>
    <script src="scripts/directives/bettyimage.js"></script>
    <script src="scripts/directives/create-content.js"></script>
    <script src="scripts/directives/devicepreview.js"></script>
    <script src="scripts/directives/filterwidget.js"></script>
    <script src="scripts/directives/listinput.js"></script>
    <script src="scripts/directives/video-upload.js"></script>
    <script src="scripts/directives/logged-in-user.js"></script>
    <script src="scripts/directives/media-rating.js"></script>
    <script src="scripts/directives/nav.js"></script>
    <script src="scripts/directives/responsive-image.js"></script>
    <script src="scripts/directives/save-button.js"></script>
    <script src="scripts/directives/slideshow-pane.js"></script>
    <script src="scripts/directives/targeting.js"></script>
    <script src="scripts/directives/editor.js"></script>

    <script src="scripts/filters/truncateByCharacters.js"></script>
    <script src="scripts/filters/truncateByWords.js"></script>


    <script src="scripts/modules/betty-cropper.js"></script>

    <script src="scripts/services/if-exists-else.js"></script>
    <script src="scripts/services/openimagecropmodal.js"></script>
    <script src="scripts/services/bulbsapi.js"></script>
    <script src="scripts/services/currentuser.js"></script>
    <script src="scripts/services/contentapi.js"></script>
    <script src="scripts/services/reviewapi.js"></script>
    <script src="scripts/services/promotionapi.js"></script>
    <script src="scripts/services/adapi.js"></script>
    <script src="scripts/services/login.js"></script>
    <script src="scripts/filters/tzdate.js"></script>
    <script src="scripts/controllers/changelogmodal.js"></script>
    <script src="scripts/controllers/versionbrowsermodal.js"></script>
    <script src="scripts/services/localstoragebackup.js"></script>
    <script src="scripts/controllers/lastmodifiedguardmodal.js"></script>
    <script src="scripts/filters/user.js"></script>
    <script src="scripts/directives/status-filter.js"></script>
    <script src="scripts/services/zencoder.js"></script>
    <script src="scripts/directives/authorsfield.js"></script>
    <script src="scripts/directives/tagsfield.js"></script>
    <script src="scripts/directives/featuretypefield.js"></script>
    <script src="scripts/directives/sectionsfield.js"></script>
    <script src="scripts/directives/videoembed.js"></script>
    <script src="scripts/directives/videofield.js"></script>
    <script src="scripts/controllers/sponsormodal.js"></script>
    <script src="scripts/controllers/videothumbnailmodal.js"></script>
    <script src="scripts/directives/encode-status.js"></script>
    <script src="scripts/directives/static-image.js"></script>
    <script src="scripts/directives/tvshow-field.js"></script>
    <script src="scripts/controllers/forbiddenmodal.js"></script>
    <script src="scripts/directives/hide-if-forbidden.js"></script>
    <script src="scripts/services/bugreportinterceptor.js"></script>
    <script src="scripts/services/permissionsinterceptor.js"></script>
    <!-- endbuild -->

    <script src="bower_components/angular-mocks/angular-mocks.js"></script>
    <script src="mocks/app.js"></script>
    <script src="mocks/api.js"></script>


    <script type="text/javascript">
        //these probably don't need to be constants
        //but there probably isn't any reason for them to not be
        //so...
        // ¯\_(ツ)_/¯
        angular.module('BettyCropper').constant('IMAGE_SERVER_URL', 'http://clickholeimg.local');
        angular.module('BettyCropper').constant('BC_API_KEY', 'http://clickholeimg.local');

        angular.module('bulbsCmsApp').constant('routes', {
            IMAGE_SERVER_URL: 'http://clickholeimg.local',
            BC_ADMIN_URL: 'http://clickholeimg.local',
            LOADING_IMG_SRC: '/images/loading.gif',
            STATIC_URL: '/static/',
            PARTIALS_URL: '/views/',
            CONTENT_PARTIALS_URL: '/content_type_views/',
            DIRECTIVE_PARTIALS_URL: '/views/',
            MEDIA_ITEM_PARTIALS_URL: '/cms/api/partials/media_items/',
            CACHEBUSTER: '?' + Date.now(),
            NAV_LOGO: '/images/onion-logo.png',
            CMS_NAMESPACE: 'Smoove'
        });

        angular.module('bulbsCmsApp').constant('IMAGE_SERVER_URL', 'http://clickholeimg.local');
        angular.module('bulbsCmsApp').constant('BC_ADMIN_URL', 'http://clickholeimg.local');
        angular.module('bulbsCmsApp').constant('LOADING_IMG_SRC', "/images/loading.gif");
        angular.module('bulbsCmsApp').constant('STATIC_URL', "/static/");
        angular.module('bulbsCmsApp').constant('PARTIALS_URL', "/views/");
        angular.module('bulbsCmsApp').constant('CONTENT_PARTIALS_URL', '/content_type_views/');
        angular.module('bulbsCmsApp').constant('DIRECTIVE_PARTIALS_URL', '/views/');
        angular.module('bulbsCmsApp').constant('MEDIA_ITEM_PARTIALS_URL', '/cms/api/partials/media_items/');
        angular.module('bulbsCmsApp').constant('CACHEBUSTER', "?" + Date.now());
        angular.module('bulbsCmsApp').constant('TIMEZONE_OFFSET', '-0500');
        angular.module('bulbsCmsApp').constant('TIMEZONE_LABEL', 'CST');
        angular.module('bulbsCmsApp').constant('AUTO_ADD_AUTHOR', true);
        angular.module('bulbsCmsApp').constant('DEFAULT_IMAGE_WIDTH', 1200);
        angular.module('bulbsCmsApp').constant('VIDEO_EMBED_URL', 'http://www.avclub.com/videos/embed?id=');
        angular.module('bulbsCmsApp').constant('VIDEO_THUMBNAIL_URL', 'http://v.theonion.com/avclubmedia/video/{{video}}/frame_{{thumbnail}}.jpg');
        angular.module('bulbsCmsApp').constant('STATIC_IMAGE_URL', 'http://chimg.onionstatic.com/{{image}}/16x9/600.jpg');


        // ****** CMS Plugins ****** \\

        angular.module('bulbsCmsApp').constant('tar_options', {
          endpoint: '/ads/targeting'
        });

        angular.module('bulbsCmsApp').constant('promo_options', {
          upper_limits: {}
        });

        angular.module('bulbsCmsApp').constant('navbar_options', {});


        window.dummySearchHandler = function(term, resultsElement) {
            resultsElement.html("<b>Searching for: " + term + "</b><br><a href='/fart/'>Fart</a><br><a href='/butt/'>Butt</a><br><a href='/dumb/'>Dumb</a><br>");
          }

    </script>

    <script src="keys.js"></script>

    <script>
        angular.module('bulbsCmsAppDev', ['bulbsCmsApp.mockApi', 'bulbsCmsApp'])
          .config(function (StatusFilterOptionsProvider) {
            StatusFilterOptionsProvider.setStatuses([
              {label: 'Filter 1', key: 'filter1key', value: 'charizard'},
              {label: 'Filter 2', key: 'filter2key', value: function(){ return moment().unix(); }},
              {label: 'Filter 3', key: 'filter2key', value: function(){ return "cool"; }},
              {label: 'All', key: null, value: null}
            ]);
          });

        //huhhhhh
        $("body").on("click", "a", function(e){
          if($(this).attr("target") == "_blank") return true;
          $(this).attr("target", "_self");
        });
    </script>
    <bug-reporter/>

</body>
</html>
